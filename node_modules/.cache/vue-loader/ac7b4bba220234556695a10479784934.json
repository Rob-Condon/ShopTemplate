{"remainingRequest":"E:\\InHouseWeb\\ShopTemplate\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\InHouseWeb\\ShopTemplate\\src\\components\\OrderPage\\OrderCustomerView.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\InHouseWeb\\ShopTemplate\\src\\components\\OrderPage\\OrderCustomerView.vue","mtime":1587988873857},{"path":"E:\\InHouseWeb\\ShopTemplate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587877987073},{"path":"E:\\InHouseWeb\\ShopTemplate\\node_modules\\babel-loader\\lib\\index.js","mtime":1587877986756},{"path":"E:\\InHouseWeb\\ShopTemplate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1587877987073},{"path":"E:\\InHouseWeb\\ShopTemplate\\node_modules\\vue-loader\\lib\\index.js","mtime":1587878004863}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7RXZlbnRCdXN9IGZyb20gIi4uLy4uL0FwcCI7CmltcG9ydCBCbG9nQ29udHJvbGxlciBmcm9tICIuLi8uLi9zZXJ2aWNlcy9CbG9nU2VydmljZXMiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIk9yZGVyQ3VzdG9tZXJWaWV3IiwKICAgIGRhdGEoKSB7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIE1lbnVJdGVtczogWwogICAgICAgICAgICBdLAogICAgICAgICAgICBPcmRlcmVkSXRlbXM6IFsKICAgICAgICAgICAgXSwKICAgICAgICAgICAgVG90YWxQcmljZTogMCwKICAgICAgICAgICAgRGV0YWlsczogewogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICAgICAgICAgIHBob25lOiBudWxsLAogICAgICAgICAgICAgICAgcGxhdGU6IG51bGwsCiAgICAgICAgICAgICAgICBUaW1lT2Y6IG51bGwsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIEJ1c0VtYWlsOiAiIiwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIE1ha2VPcmRlcigpIHsKICAgICAgICAgICAgLyp0aGlzLkN1c0VtYWlsICs9ICJUaGFuayB5b3UgZm9yIG9yZGVyaW5nICIrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ05hbWUnKS52YWx1ZSsiISBcbiIKICAgICAgICAgICAgdGhpcy5DdXNFbWFpbCArPSAiWW91IGhhdmUgb3JkZXJlZDogXG4iCiAgICAgICAgICAgIGZvcihsZXQgaTsgaSA8IHRoaXMuT3JkZXJlZEl0ZW1zOyBpKyspIHsKICAgICAgICAgICAgICAgIGxldCBPcmRlciA9IHRoaXMuT3JkZXJlZEl0ZW1zW2ldOwogICAgICAgICAgICAgICAgdGhpcy5DdXNFbWFpbCArPSAiLSAiK09yZGVyLnRpdGxlKyIgeCIrT3JkZXIuT3JkZXJlZCsiXG4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5DdXNFbWFpbCArPSAiXG4gXG4gVGhpcyBjb21lcyB0byBhIHRvdGFsIG9mICQiK3RoaXMuVG90YWxQcmljZTsKICAgICAgICAgICAgdGhpcy5DdXNFbWFpbCArPSAiXG4gXG4gVGhhbmsgeW91IGZvciBvcmRlcmluZyBmcm9tIFNoZXJpbHkgVGFrZWF3YXlzISIKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5DdXNFbWFpbCk7Ki8KICAgICAgICAgICAgdGhpcy5EZXRhaWxzLm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTmFtZScpLnZhbHVlOwogICAgICAgICAgICB0aGlzLkRldGFpbHMuZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRW1haWwnKS52YWx1ZTsKICAgICAgICAgICAgdGhpcy5EZXRhaWxzLnBob25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bob25lJykudmFsdWU7CiAgICAgICAgICAgIHRoaXMuRGV0YWlscy5wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQbGF0ZScpLnZhbHVlOwogICAgICAgICAgICB0aGlzLkRldGFpbHMuVGltZU9mID0gbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAxMio2MCo2MCoxMDAwKS50b0xvY2FsZVRpbWVTdHJpbmcoKTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuT3JkZXJlZEl0ZW1zKTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5PcmRlcmVkSXRlbXNbMF0pOwogICAgICAgICAgICB2YXIgZnVsbE9yZGVyID0gW107CgogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuT3JkZXJlZEl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHNpbmdsZUl0ZW0gPSBbdGhpcy5PcmRlcmVkSXRlbXNbaV0udGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuT3JkZXJlZEl0ZW1zW2ldLk9yZGVyZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuT3JkZXJlZEl0ZW1zW2ldLnByaWNlXTsKICAgICAgICAgICAgICBmdWxsT3JkZXIucHVzaChzaW5nbGVJdGVtKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coZnVsbE9yZGVyKTsKICAgICAgICAgICAgbGV0IG9yZGVyID0gewogICAgICAgICAgICAgIE5hbWU6IHRoaXMuRGV0YWlscy5uYW1lLAogICAgICAgICAgICAgIEVtYWlsOiB0aGlzLkRldGFpbHMuZW1haWwsCiAgICAgICAgICAgICAgUGhvbmU6IHRoaXMuRGV0YWlscy5waG9uZSwKICAgICAgICAgICAgICBQbGF0ZTogdGhpcy5EZXRhaWxzLnBsYXRlLAogICAgICAgICAgICAgIFRpbWVPZjogdGhpcy5EZXRhaWxzLlRpbWVPZiwKICAgICAgICAgICAgICBPcmRlcjogZnVsbE9yZGVyLAogICAgICAgICAgICAgIFRvdGFsOiB0aGlzLlRvdGFsUHJpY2UKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIEJsb2dDb250cm9sbGVyLlNlbmRPcmRlcihvcmRlcik7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgIEV2ZW50QnVzLiRvbignQ2hhbmdlZCcsIGNoYW5nZWQgPT4gewogICAgICAgICAgICBzZWxmLlRvdGFsUHJpY2UgPSAwOwogICAgICAgICAgICBzZWxmLk1lbnVJdGVtcyA9IGNoYW5nZWQ7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYuTWVudUl0ZW1zKTsKICAgICAgICAgICAgbGV0IGk7CiAgICAgICAgICAgIGxldCBPcmRlcmVkTGlzdCA9IFtdOwogICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuTWVudUl0ZW1zKTsKCiAgICAgICAgICAgIGZvcihpPTA7IGk8IHNlbGYuTWVudUl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWxmLk1lbnVJdGVtc1tpXSk7CiAgICAgICAgICAgICAgICBmb3IobGV0IG49MDsgbiA8IHNlbGYuTWVudUl0ZW1zW2ldLlNlY3Rpb25JdGVtcy5sZW5ndGg7IG4rKykgewoKICAgICAgICAgICAgICAgICAgICBpZihzZWxmLk1lbnVJdGVtc1tpXS5TZWN0aW9uSXRlbXNbbl0uT3JkZXJlZCA+PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIE9yZGVyZWRMaXN0LnB1c2goc2VsZi5NZW51SXRlbXNbaV0uU2VjdGlvbkl0ZW1zW25dKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5Ub3RhbFByaWNlICs9ICAgcGFyc2VGbG9hdChzZWxmLk1lbnVJdGVtc1tpXS5TZWN0aW9uSXRlbXNbbl0ucHJpY2UpKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoc2VsZi5NZW51SXRlbXNbaV0uU2VjdGlvbkl0ZW1zW25dLk9yZGVyZWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLk9yZGVyZWRJdGVtcyA9IE9yZGVyZWRMaXN0OwogICAgICAgIH0pOwogICAgfQp9Cgo="},{"version":3,"sources":["OrderCustomerView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderCustomerView.vue","sourceRoot":"src/components/OrderPage","sourcesContent":["<template>\r\n  <div id=\"WholePage\" style=\"margin-bottom: 30vw\">\r\n    <div id=\"TitleCard\"><b> Order </b> </div>\r\n    <div id=\"OrdersPage\">\r\n      <div id=\"receiptChunk\">\r\n        <div class=\"Title\">Receipt</div>\r\n        <div class=\"OrderedItem\" style=\"text-align: center\" v-if=\"TotalPrice <= 0\">\r\n          No items added yet.\r\n        </div>\r\n        <div v-for=\"Order in OrderedItems\" :key=\"Order.id\">\r\n          <div class=\"OrderedItem\">\r\n           - {{Order.title}} x{{Order.Ordered}}\r\n          </div>\r\n        </div>\r\n        <div id=\"Pirce\">\r\n          Total: ${{TotalPrice.toFixed(2)}}\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div id=\"UserDetailsPage\">\r\n        <div class=\"Title\"> Your Details </div>\r\n        <div id=\"Details\">\r\n          <label for=\"Name\">Name</label>\r\n          <input type=\"text\" id=\"Name\" name=\"Name\" value=\"\">\r\n\r\n          <label for=\"Email\">Email</label>\r\n          <input type=\"text\" id=\"Email\" name=\"Email\" value=\"\">\r\n\r\n          <div class=\"Explanation\">Phone number to ring when order is done and invite inside <br>\r\n          Or plate number to deliver to car</div>\r\n\r\n          <label for=\"Phone\">Phone Number</label>\r\n          <input type=\"text\" id=\"Phone\" name=\"Phone\" value=\"\">\r\n\r\n          <label for=\"Plate\">Car licence plate</label>\r\n          <input type=\"text\" id=\"Plate\" name=\"Plate\" value=\"\">\r\n        </div>\r\n      </div>\r\n      <div class=\"Explanation\" id=\"ExeplantionOrder\">Try It!<br>\r\n      Don't worry it'll just show you what the customer and business get after clicked</div>\r\n      <button v-on:click=\"MakeOrder\" class=\"button button1\">Place Order</button>\r\n\r\n      <div class=\"Emails\" id=\"CustomerEmail\" v-if=\"Details.name !== ''\">\r\n        <h1>Email to customer:</h1>\r\n        Thank you for ordering {{Details.name}}! <br>\r\n        You have ordered: <br>\r\n        <div v-for=\"Order in OrderedItems\" :key=\"Order.id\">\r\n          <div>\r\n            - {{Order.title}} x{{Order.Ordered}}<br>\r\n          </div>\r\n        </div> <br>\r\n        Which comes to a total of ${{TotalPrice}}<br><br>\r\n        We will give you a call on {{Details.phone}} when the order is ready!\r\n      </div>\r\n      <div  class=\"Emails\" id=\"BussinessEmail\"  v-if=\"Details.name !== ''\">\r\n        <h1>Email to Business:</h1>\r\n        New Order!<br>\r\n        Order Processed at: {{Details.TimeOf}}<br>\r\n        Customer Name: {{Details.name}}<br>\r\n        Customer Phone: {{Details.phone}}<br>\r\n        Customer Email: {{Details.email}}<br>\r\n        Customer Plate number: {{Details.plate}}<br><br>\r\n\r\n        They have ordered: <br>\r\n        <div v-for=\"Order in OrderedItems\" :key=\"Order.id\">\r\n          <div>\r\n            - {{Order.title}} x{{Order.Ordered}}<br>\r\n          </div>\r\n        </div> <br>\r\n        Which comes to a total of ${{TotalPrice}}<br>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import {EventBus} from \"../../App\";\r\n    import BlogController from \"../../services/BlogServices\";\r\n\r\n    export default {\r\n        name: \"OrderCustomerView\",\r\n        data() {\r\n\r\n            return {\r\n                MenuItems: [\r\n                ],\r\n                OrderedItems: [\r\n                ],\r\n                TotalPrice: 0,\r\n                Details: {\r\n                    name: '',\r\n                    email: null,\r\n                    phone: null,\r\n                    plate: null,\r\n                    TimeOf: null,\r\n                },\r\n                BusEmail: \"\",\r\n            }\r\n        },\r\n        computed: {\r\n\r\n        },\r\n        methods: {\r\n            MakeOrder() {\r\n                /*this.CusEmail += \"Thank you for ordering \"+document.getElementById('Name').value+\"! \\n\"\r\n                this.CusEmail += \"You have ordered: \\n\"\r\n                for(let i; i < this.OrderedItems; i++) {\r\n                    let Order = this.OrderedItems[i];\r\n                    this.CusEmail += \"- \"+Order.title+\" x\"+Order.Ordered+\"\\n\"\r\n                }\r\n                this.CusEmail += \"\\n \\n This comes to a total of $\"+this.TotalPrice;\r\n                this.CusEmail += \"\\n \\n Thank you for ordering from Sherily Takeaways!\"\r\n                console.log(this.CusEmail);*/\r\n                this.Details.name = document.getElementById('Name').value;\r\n                this.Details.email = document.getElementById('Email').value;\r\n                this.Details.phone = document.getElementById('Phone').value;\r\n                this.Details.plate = document.getElementById('Plate').value;\r\n                this.Details.TimeOf = new Date(new Date().getTime() + 12*60*60*1000).toLocaleTimeString();\r\n\r\n                console.log(this.OrderedItems);\r\n                console.log(this.OrderedItems[0]);\r\n                var fullOrder = [];\r\n\r\n                for (let i = 0; i < this.OrderedItems.length; i++) {\r\n                  var singleItem = [this.OrderedItems[i].title,\r\n                               this.OrderedItems[i].Ordered,\r\n                               this.OrderedItems[i].price];\r\n                  fullOrder.push(singleItem);\r\n                }\r\n\r\n                console.log(fullOrder);\r\n                let order = {\r\n                  Name: this.Details.name,\r\n                  Email: this.Details.email,\r\n                  Phone: this.Details.phone,\r\n                  Plate: this.Details.plate,\r\n                  TimeOf: this.Details.TimeOf,\r\n                  Order: fullOrder,\r\n                  Total: this.TotalPrice\r\n                };\r\n\r\n                BlogController.SendOrder(order);\r\n            }\r\n        },\r\n        mounted() {\r\n            let self = this;\r\n            EventBus.$on('Changed', changed => {\r\n                self.TotalPrice = 0;\r\n                self.MenuItems = changed;\r\n                console.log(self.MenuItems);\r\n                let i;\r\n                let OrderedList = [];\r\n               // console.log(this.MenuItems);\r\n\r\n                for(i=0; i< self.MenuItems.length; i++) {\r\n                    console.log(self.MenuItems[i]);\r\n                    for(let n=0; n < self.MenuItems[i].SectionItems.length; n++) {\r\n\r\n                        if(self.MenuItems[i].SectionItems[n].Ordered >= 1) {\r\n                            OrderedList.push(self.MenuItems[i].SectionItems[n]);\r\n                            self.TotalPrice +=   parseFloat(self.MenuItems[i].SectionItems[n].price)*\r\n                                parseInt(self.MenuItems[i].SectionItems[n].Ordered);\r\n                        }\r\n                    }\r\n                }\r\n                self.OrderedItems = OrderedList;\r\n            });\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  #WholePage {\r\n    background-image: url(\"../../assets/images/lined_paper.png\");\r\n  }\r\n#OrdersPage {\r\n  grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10%;\r\n  grid-template-areas: \"Receipt Receipt Receipt Receipt Receipt Receipt Receipt User User User\"\r\n  \"explanation explanation explanation explanation explanation explanation explanation explanation explanation explanation\"\r\n  \"button button button button button button button button button button\"\r\n  \"Customer Customer Customer Customer Customer Bussiness Bussiness Bussiness Bussiness Bussiness\";\r\n  display: grid;\r\n  font-family: 'Oswald', sans-serif;\r\n  justify-content: center;\r\n  align-items: center;\r\n  align-content: center;\r\n}\r\n  #TitleCard {\r\n    padding: 3vw 0 1vw 0;\r\n    font-size: 10vw;\r\n    font-family: 'Amatic SC', cursive;\r\n\r\n  }\r\n#Pirce {\r\n  margin: 2vw;\r\n  font-size: 3vw;\r\n}\r\n  .Title {\r\n    font-size: 4vw;\r\n    margin: 1vw;\r\n  }\r\n  .OrderedItem {\r\n    font-size: 2vw;\r\n    text-align: left;\r\n    margin: 0.5vw;\r\n  }\r\n  #receiptChunk {\r\n    background-color: rgba(250, 231, 203, 0.3);\r\n    grid-area: Receipt;\r\n    display: inline-block;\r\n    width: 60%;\r\n    align-self: center;\r\n    justify-self: center;\r\n    border-radius: 50px;\r\n  }\r\n\r\n\r\n  #UserDetailsPage {\r\n    border-radius: 25px;\r\n    grid-area: User;\r\n    vertical-align: top;\r\n    top: 0;\r\n    background-image: url(\"../../assets/images/email-pattern.png\");\r\n   }\r\n\r\ninput[type=text] {\r\n  width: 70%;\r\n  padding: 12px 20px;\r\n  //margin: 8px 0;\r\n  box-sizing: border-box;\r\n  border: 3px solid #ccc;\r\n  -webkit-transition: 0.5s;\r\n  transition: 0.5s;\r\n  outline: none;\r\n  display: block;\r\n  justify-self: center;\r\n  align-self: center;\r\n  horiz-align: center;\r\n  margin: 0.5vw 0 1vw 17% ;\r\n}\r\n\r\ninput[type=text]:focus {\r\n  border: 3px solid #555;\r\n}\r\n  .Explanation {\r\n    font-size: 1.5vw;\r\n    margin: 1vw;\r\n    font-weight: 300;\r\n  }\r\n#ExeplantionOrder {\r\n  grid-area: explanation;\r\n}\r\n.button {\r\n  background-color: #4CAF50; /* Green */\r\n  border: none;\r\n  color: white;\r\n  padding: 1vw 2vw;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  font-size: 1vw;\r\n  margin: 4px 2px;\r\n  transition-duration: 0.4s;\r\n  cursor: pointer;\r\n  width: 20vw;\r\n  border-radius: 25px;\r\n  justify-self: center;\r\n  align-self: center;\r\n}\r\n\r\n.button1 {\r\n  background-color: white;\r\n  color: black;\r\n  border: 2px solid #4CAF50;\r\n  grid-area: button;\r\n}\r\n\r\n.button1:hover {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n}\r\n\r\n  #CustomerEmail {\r\n    grid-area: Customer;\r\n  }\r\n  #BussinessEmail {\r\n    grid-area: Bussiness;\r\n  }\r\n  .Emails {\r\n    top: 0;\r\n    vertical-align: top;\r\n\r\n  }\r\n</style>"]}]}